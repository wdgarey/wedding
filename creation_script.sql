DROP USER 'weddingwebuser'@'localhost';
DROP DATABASE IF EXISTS wedding;

CREATE DATABASE wedding;

CREATE TABLE wedding.guest
(
    keycode INT NOT NULL UNIQUE,
    alias VARCHAR(100) NOT NULL,
    attending TINYINT(1),
    partysize TINYINT UNSIGNED,
    email VARCHAR(100),
    phone VARCHAR(10),
    CONSTRAINT GUEST_PK PRIMARY KEY(keycode)
) ENGINE=InnoDB;

INSERT INTO wedding.guest(keycode, alias) VALUES (12345, 'Mr. Garey');

CREATE USER 'weddingwebuser'@'localhost' IDENTIFIED BY 'weddingwebuser1234';

GRANT SELECT, UPDATE ON wedding.guest TO 'weddingwebuser'@'localhost' REQUIRE NONE WITH MAX_QUERIES_PER_HOUR 0 MAX_CONNECTIONS_PER_HOUR 0 MAX_UPDATES_PER_HOUR 0 MAX_USER_CONNECTIONS 0;

INSERT INTO wedding.guest (keycode, alias) VALUES
(12806, ''),
(72204, ''),
(31760, ''),
(69138, ''),
(93714, ''),
(95762, ''),
(92183, ''),
(12311, ''),
(90136, ''),
(77848, ''),
(46618, ''),
(48156, ''),
(86045, ''),
(89116, ''),
(04126, ''),
(64037, ''),
(61989, ''),
(99881, ''),
(72233, ''),
(02090, ''),
(80435, ''),
(80437, ''),
(12854, ''),
(00567, ''),
(83000, ''),
(95291, ''),
(92219, ''),
(39995, ''),
(60479, ''),
(92228, ''),
(34889, ''),
(21577, ''),
(62027, ''),
(75850, ''),
(38476, ''),
(83536, ''),
(93267, ''),
(71254, ''),
(08279, ''),
(88669, ''),
(41054, ''),
(28262, ''),
(26214, ''),
(11374, ''),
(81520, ''),
(18034, ''),
(88183, ''),
(66685, ''),
(23677, ''),
(06277, ''),
(13446, ''),
(77451, ''),
(44683, ''),
(71824, ''),
(78992, ''),
(58519, ''),
(47776, ''),
(33956, ''),
(33957, ''),
(84647, ''),
(86182, ''),
(60071, ''),
(02730, ''),
(89258, ''),
(12972, ''),
(48302, ''),
(24750, ''),
(62127, ''),
(32434, ''),
(23734, ''),
(29368, ''),
(27833, ''),
(04283, ''),
(27835, ''),
(90301, ''),
(38590, ''),
(11455, ''),
(47297, ''),
(23747, ''),
(54475, ''),
(74452, ''),
(40662, ''),
(58071, ''),
(20696, ''),
(11992, ''),
(83164, ''),
(08413, ''),
(31965, ''),
(93921, ''),
(05345, ''),
(87781, ''),
(19685, ''),
(49382, ''),
(91885, ''),
(12525, ''),
(19182, ''),
(00240, ''),
(62194, ''),
(24306, ''),
(11510, ''),
(30967, ''),
(25335, ''),
(91897, ''),
(29946, ''),
(33534, ''),
(87807, ''),
(23806, ''),
(43777, ''),
(88837, ''),
(90373, ''),
(92941, ''),
(34573, ''),
(84242, ''),
(43283, ''),
(84252, ''),
(23837, ''),
(66852, ''),
(60199, ''),
(53544, ''),
(61224, ''),
(54568, ''),
(02345, ''),
(99121, ''),
(42289, ''),
(51507, ''),
(14134, ''),
(60214, ''),
(78651, ''),
(53050, ''),
(36157, ''),
(14147, ''),
(94532, ''),
(36166, ''),
(47943, ''),
(98121, ''),
(25418, ''),
(79181, ''),
(23893, ''),
(26965, ''),
(59221, ''),
(52575, ''),
(60768, ''),
(95590, ''),
(10601, ''),
(41322, ''),
(59242, ''),
(14698, ''),
(05483, ''),
(06001, ''),
(00372, ''),
(07547, ''),
(08572, ''),
(48509, ''),
(54142, ''),
(96639, ''),
(99198, ''),
(87936, ''),
(87426, ''),
(13700, ''),
(23940, ''),
(62352, ''),
(00914, ''),
(19349, ''),
(15767, ''),
(96665, ''),
(17305, ''),
(28577, ''),
(55202, ''),
(98210, ''),
(11687, ''),
(78767, ''),
(63415, ''),
(20408, ''),
(54202, ''),
(05562, ''),
(25020, ''),
(91582, ''),
(46015, ''),
(11200, ''),
(33225, ''),
(04044, ''),
(30158, ''),
(01487, ''),
(26576, ''),
(83920, ''),
(21973, ''),
(95700, ''),
(52695, ''),
(76246, ''),
(45027, ''),
(69094, ''),
(38377, ''),
(05104, ''),
(53235, ''),
(61940, ''),
(26101, ''),
(39925, ''),
(37366, ''),
(65018, ''),
(88572, '');

